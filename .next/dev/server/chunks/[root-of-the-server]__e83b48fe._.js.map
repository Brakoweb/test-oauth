{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/brako/Documents/proyectos/test/test%20oauth/services/GHL/OAuth/index.js"],"sourcesContent":["import { GHL_API } from \"../../../../constants/server/index.js\";\n\nexport class GoHighLevelOAuthService {\n    static authorize(){\n        return GHL_API.authorize({\n            config: {\n                client_id: process.env.GHL_CLIENT_ID,\n                redirect_uri: GHL_API.redirect_uri,\n                response_type: 'code',\n                scope: process.env.GHL_OAUTH_SCOPES\n            }\n});\n    }\n\n    static async redirect({code}){\n        try{\n            console.log(code);\n        }catch(error){\n           console.log(`--GHL OAuth redirect failed, reason: ${error?.message}`); \n        }\n    }\n}\n"],"names":[],"mappings":";;;;;;;;;;AAEO,MAAM;IACT,OAAO,YAAW;QACd,OAAO,QAAQ,SAAS,CAAC;YACrB,QAAQ;gBACJ,WAAW,QAAQ,GAAG,CAAC,aAAa;gBACpC,cAAc,QAAQ,YAAY;gBAClC,eAAe;gBACf,OAAO,QAAQ,GAAG,CAAC,gBAAgB;YACvC;QACZ;IACI;IAEA,aAAa,SAAS,EAAC,IAAI,EAAC,EAAC;QACzB,IAAG;YACC,QAAQ,GAAG,CAAC;QAChB,EAAC,OAAM,OAAM;YACV,QAAQ,GAAG,CAAC,CAAC,qCAAqC,EAAE,OAAO,SAAS;QACvE;IACJ;AACJ"}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":["file:///Users/brako/Documents/proyectos/test/test%20oauth/src/app/api/v2/%5Baction%5D/route.js"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport { GoHighLevelOAuthService } from \"../../../../../services/GHL/OAuth/index.js\";\n\nexport async function GET(req, res) {\n    try{\n        const {action}= await res.params;\n        switch(action){\n            case 'authorize':\n                return NextResponse.redirect(GoHighLevelOAuthService.authorize());\n            case 'redirect':\n                const { code } = Object.fromEntries(req.nextUrl.searchParams);\n                if(!code){\n                    return NextResponse.redirect(process.env.GHL_OAUTH_FAIL);\n                }\n\n                await GoHighLevelOAuthService.redirect({code});\n                return NextResponse.redirect(process.env.GHL_OAUTH_SUCCESS);    \n        }\n        return NextResponse.json({message: 'Accion invalida'}, {status: HttpStatusCode.BAD_REQUEST})\n    }catch(error){\n        return NextResponse.json({error: error.message}, {status: HttpStatusCode.INTERNAL_SERVER_ERROR})\n    }\n}"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,IAAI,GAAG,EAAE,GAAG;IAC9B,IAAG;QACC,MAAM,EAAC,MAAM,EAAC,GAAE,MAAM,IAAI,MAAM;QAChC,OAAO;YACH,KAAK;gBACD,OAAO,+JAAY,CAAC,QAAQ,CAAC,6KAAuB,CAAC,SAAS;YAClE,KAAK;gBACD,MAAM,EAAE,IAAI,EAAE,GAAG,OAAO,WAAW,CAAC,IAAI,OAAO,CAAC,YAAY;gBAC5D,IAAG,CAAC,MAAK;oBACL,OAAO,+JAAY,CAAC,QAAQ,CAAC,QAAQ,GAAG,CAAC,cAAc;gBAC3D;gBAEA,MAAM,6KAAuB,CAAC,QAAQ,CAAC;oBAAC;gBAAI;gBAC5C,OAAO,+JAAY,CAAC,QAAQ,CAAC,QAAQ,GAAG,CAAC,iBAAiB;QAClE;QACA,OAAO,+JAAY,CAAC,IAAI,CAAC;YAAC,SAAS;QAAiB,GAAG;YAAC,QAAQ,eAAe,WAAW;QAAA;IAC9F,EAAC,OAAM,OAAM;QACT,OAAO,+JAAY,CAAC,IAAI,CAAC;YAAC,OAAO,MAAM,OAAO;QAAA,GAAG;YAAC,QAAQ,eAAe,qBAAqB;QAAA;IAClG;AACJ"}}]
}